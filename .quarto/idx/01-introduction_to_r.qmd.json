{"title":"Introduction to R","markdown":{"yaml":{"title":"Introduction to R","subtitle":"[Data-based Storytelling](./index.html)","title-slide-attributes":{"data-background-image":"Graphics/D2.jpg"},"author":["Daniel Winkler","Stephan Fally"],"institute":["Institute for Retailing & Data Science","Department Marketing"],"bibliography":"src/data_storytelling.bib","format":{"revealjs":{"theme":["simple","src/rds_theme.scss"],"logo":"Graphics/WU_logo.png","footer":"[Data-based Storytelling](./index.html)","height":1080,"width":1920,"center-title-slide":false,"center":false,"progress":false,"embed-resources":true,"code-link":true,"code-overflow":"wrap","incremental":false},"html":{"output-file":"01-introduction_to_r_page.html","code-tools":{"source":"repo"}},"ipynb":{"jupyter":{"kernelspec":{"display_name":"R","language":"r","name":"ir"}}}}},"headingText":"The Basics","containsRefs":true,"markdown":"\n\n\n## Why R?\n\n- Well established in business and scientific computing\n- Very powerful language\n  - Express any operation in terms of\n  - Often complex functions are already implemented\n- Very good package manager and ecosystem\n  - We will use many tools created by companies, universities, and other R community members\n- Very good for reproducibility\n  - Code documents the process\n  - Should run the same on my and your machine\n  - Should be easily adaptable to changing data\n- Open source\n  - All packages can be inspected\n  - Free to install and use on any computer\n- Developed (partly) and hosted at WU ðŸ˜‹\n\n\n![](Graphics/Rlogo.png){.absolute bottom=40 right=60 width=\"400\" height=\"400\"}\n\n## What do we need?\n\n:::: {.columns}\n::: {.column}\n1. The [R interpreter](https://cran.r-project.org)\n   - The program that \"interprets\" R code and runs it\n   - Very bare-bones, essentially just a text field\n   - Does **not** store code files for reproducibility \n\n```{r}\n#| output-location: fragment\n#| echo: true\n#| fig-width: 4\n#| fig-height: 4\n#| fig-align: center\nprint(\"Hello, WU!\")\npaste0(\"One plus two is: \", 1 + 2)\nc <- data.frame(p = seq(0, 2 * pi, by = 0.001))\nc$h_x <- 16 * sin(c$p)^3\nc$h_y <- 13 * cos(c$p) - 5 * cos(2 * c$p) - 2 * cos(3 * c$p) - cos(4 * c$p)\nplot(c$h_x, c$h_y, type = \"l\", main = \"I <3 R\", frame = F, xlab = NA, ylab = NA)\n```\n\n:::\n::: {.column}\n1. An Integrated Development Environment (IDE)\n    - Makes writing and storing R code easier (more fun!)\n    - Three options compatible with this course:\n      - [R Studio Desktop (Recommended)](https://posit.co/download/rstudio-desktop/)\n        - Focused on R\n        - Easiest option\n      - [VS Code](https://code.visualstudio.com)\n        - Recommended if you (plan to) use other languages (Python, C++, Julia, etc.)\n        - Needs extension for R but works well\n      - [JupyterLab](https://jupyter.org)\n        - \"Notebooks\" for R, Python, and Julia \n        - Output generated directly under code \"cells\"\n:::\n::::\n\n## If you already know R\n\n::: {.callout-important appearance=\"minimal\"}\n## My favorite R package\n\n- Download the presentation template `my_favorite_r_package.qmd` and the bibliography file `data_literacy.bib` from Canvas\n- Select a package that was useful to you in the past\n- Prepare a short presentation about the package\n  - Include examples of how to use the package\n  - Show in which situations that is useful\n:::\n\n## Basic Workflow (R Studio)\n\n- `Ctrl + Enter` to run current line of code (any cursor position)\n\n![](Graphics/rstudio.png)\n\n## Basic Workflow (VS Code)\n\n- `Ctrl + Enter` to run current line of code (any cursor position)\n\n![](Graphics/vscode.png)\n\n## R Syntax: comments, assignment\n\n```{r}\n#| echo: true\n# This is a comment\nprint(\"Hi\") # also a comment\n## Assignment of varibale names\nx <- 1\nx\n## Missing values\nNA\n## Vectors\ny <- c(1, 2, 3, NA)\ny\n```\n\n## Functions\n\n```{r}\n#| echo: true\n## built-in\nsum(y)\nsum(y, na.rm = FALSE)\nsum(y, na.rm = TRUE)\n## User functions\na_plus_b <- function(a, b = 1) {\n    return(a + b)\n}\na_plus_b(y)\na_plus_b(y, 2)\na_plus_b(b = 2, a = y)\n## Functions provided by packages\n## Installation\n#install.packages(\"ineq\")\nineq::Gini(y)\n## or\nlibrary(ineq)\nGini(y)\n## Help \n?Gini\n```\n\n## R Syntax: indexing, logic\n\n```{r}\n#| echo: true\ny[1]\ny[-1]\ny[2:3]\ny[c(1, 3, 4)]\n\nset.seed(1)\nx <- y / 2 + rnorm(length(y))\ncbind(y, x)\ny > 2\ny > 2 & x > 0\ny > 2 | x > 0\n\ny[y > 2 | x > 0]\n```\n\n\n## R Syntax: loops, ranges\n\n```{r}\n#| echo: true\n## 'elem' is a temporary variable\nfor (elem in y) {\n    print(paste(\"Current y value is:\", elem))\n}\n## 'seq_along' returns a vector which indexes the argument\nfor (i in seq_along(y)) {\n    print(paste(\"Current y value is:\", y[i]))\n}\n## set.seed guarantees the same random numbers every time\nset.seed(1)\ntotal <- 0\nwhile (total < 1) {\n    ## runif generates random numbers between 0 and 1\n    total <- total + runif(1)\n    print(paste(\"Current total value is:\", total))\n}\n## ranges\n1:3\n10:3\nseq(3, 11, by = 2)\n```\n\n\n## R Syntax: conditional logic\n\n```{r}\n#| echo: true\nz <- -2:3\nfor (x in z) {\n  print(paste(\"x =\", x))\n    if (x > 0) {\n        print(\"x is positive\")\n    } else if (x > 2) {\n        print(\"x is greater than 2\")\n    } else if (x < 0) {\n        print(\"x is negative\")\n    } else if (x == 0) {\n        print(\"x is zero\")\n    }\n}\nz[z <= 0]\nz[z >= 0]\nz[z != 0]\nz[! z < 0]\n```\n\n\n\n## Exercise {.scrollable}\n\n::: {.callout-caution appearance=\"minimal\"}\n## Write your own function\n\n- The function should take two arguments `a` and `b`\n- First, check if `a` and `b` have the same number of elements (see `?length`)\n  - If they have a different number of elements, return `NA`\n- Iterate over the elements of `a` and `b` and check which vector's element is larger (or if they are equal)\n- If they are equal print the index of the element and \"equal\"\n- If the element in `a` is larger print the index of the elemnt and \"a larger\"\n- If the element in `b` is larger print the index of the elemnt and \"b larger\"\n:::\n\n### Example 1\n```{r}\na <- c(1, 2, 3)\nb <- c(1, 2, 3, 4)\ncat(\"a is:\", a, \"\\n\")\ncat(\"b is:\", b, \"\\n\")\ncat(\"Result:\\n\")\nNA\n```\n\n### Example 2 \n\n```{r}\na <- c(1, 2, 3)\nb <- c(0, 2, 4)\ncat(\"a is:\", a, \"\\n\")\ncat(\"b is:\", b, \"\\n\")\ncat(\"Result:\\n\")\nprint(\"1 a larger\")\nprint(\"2 equal\")\nprint(\"3 b larger\")\n```\n\n## Rectangular data frames: creation and access\n\n```{r}\n#| echo: true\ndata <- data.frame(x = -1:1, y = 3:1, z = c(\"a\", \"b\", NA))\ndata\nclass(data)\n## Variable access\ndata$x\ndata$x + data$y\n\nrow_summaries <- with(data, \n  data.frame(\n    rsum = x + y,\n    rdiff = x - y\n  ))\nrow_summaries\n```\n\n## Rectangular data frames: overview\n\n```{r}\n#| echo: true\nstr(data)\nsummary(data)\nhead(data)\n```\n\n## Rectangular data frames: Indexing\n\n```{r}\n#| echo: true\n## 2D structure of data\n## Empty argument means \"all\"#| \ndata[, c(\"x\", \"y\")]\ndata[1:3, c(\"x\", \"y\")]\ndata[1, ]\ndata[c(1, 3), c(\"x\", \"z\")]\ndata[data$x < 3,]\n```\n\n## Rectangular data: adding and removing variables\n\n```{r}\n#| echo: true\n\n## new data has to have the same number of elements\ndata$a <- 2 * data$x\ndata\ndata$b <- c(\"one\", \"two\", \"three\")\ndata\n\ndata$x <- NULL\ndata\n\ndata$a <- log(data$a)\ndata\n\ndata$b[data$b == \"two\"] <- \"TWO!\"\ndata$z[is.na(data$z)] <- \"c\"\ndata$a[is.nan(data$a)] <- 0\ndata\n```\n\n\n## Exercise\n\n::: {.callout-caution appearance=\"minimal\"}\n## Generate your own data\n\n- Look at the helpfiles of `rnorm`, `runif`, and `ifelse`\n- Create a `data.frame` with 10 rows and variables `x`, generated using `runif` and `y`, generated using `rnorm`\n- Add variable `z` which takes the value `1` if `x` is larger than `y` and `0` otherwise\n- Create a second `data.frame` that holds the rows of the original one for which `z == 1` is `TRUE`.\n- Remove column `z` from the second `data.frame`\n- What happens if you try to create a `data.frame` when `x` and `y` have a differnent number of elements?\n- What happens if you run the code you wrote for this exercise again (and again)?\n- How can you ensure that each run yields the same results?\n:::\n\n## Reading data\n\n- Please download & unzip the folder found in \"data\" in Canvas\n- We will first use the \"penguins\" folder which includes the `penguins_raw` data set in multiple file formats\n\n```{r}\n#| echo: true\n## CSV\npenguins_raw <- readr::read_csv(\"data/penguins/penguins_raw.csv\")\nhead(penguins_raw, 2)\n```\n\n. . .\n\n```{r}\n#| echo: true\npenguins_raw[1,1]\n```\n\n::: {.callout-caution appearance=\"minimal\"}\n## Fix the data\n\n- The second row (after the column names) in the `penguins_raw.csv` file is a comment\n- Look at the help file for the `readr::read_csv` function (`?readr::read_csv`)\n- How can we ignore the comment row?\n:::\n\n## Reading data: solution\n\n```{r}\n#| echo: true\n## CSV\npenguins_raw <- readr::read_csv(\n  \"data/penguins/penguins_raw.csv\",\n  comment = \"#\")\nhead(penguins_raw, 2)\npenguins_raw[1,1]\nstr(penguins_raw)\n```\n\n## Reading data: other file formats\n\n- The `readxl` package provides functions for reading Excel files\n\n```{r}\n#| echo: true\npenguins_raw <- readxl::read_excel(\"data/penguins/penguins_raw.xlsx\")\nhead(penguins_raw, 2)\n## Read a subset \npenguins_subset <- readxl::read_excel(\"data/penguins/penguins_raw.xlsx\", sheet = \"Sheet1\", range = \"B1:O345\")\nhead(penguins_subset, 2)\n```\n\n## Reading data: other file formats\n\n- The `haven` package provides functions for reading SPSS, Stata, and SAS files\n- It looks like SPSS does not support spaces in column names so this is slightly different\n\n```{r}\n#| echo: true\npenguins_raw <- haven::read_sav(\"data/penguins/penguins_raw.sav\")\nhead(penguins_raw, 2)\n```\n\n## Reading big data: the `arrow` package\n\n- The `arrow` package provides functions for reading Parquet and Feather files \n- Optimized formats used in many data science projects\n- Provides facility to read from \"object storage\" (e.g., Amazon S3)\n\n> The major benefits of object storage are the virtually unlimited scalability and the lower cost of storing large volumes of data for use cases such as data lakes, cloud native applications, analytics, log files, and machine learning (ML).\n^[https://aws.amazon.com/what-is/object-storage/]\n\n- Rule of thumb: \n  - use `parquet` for large files and long term storage\n    - optimized file size\n  - use `feather` for optimized reading and short term storage\n    - memory layout the same as in the process\n\n## Reading big data: the `arrow` package\n\n\n```{r}\n#| echo: true\npenguins_raw <- arrow::read_parquet(\"data/penguins/penguins_raw.parquet\")\npenguins_raw <- arrow::read_feather(\"data/penguins/penguins_raw.feather\")\nhead(penguins_raw, 2)\n```\n\n- Support for complex data structures\n\n```{r}\n#| echo: true\npenguin_species_island <- arrow::read_parquet('data/penguins/penguin_species_nested.parquet')\nhead(penguin_species_island, 2)\nhead(tidyr::unnest(penguin_species_island), 2)\n```\n\n## Benchmarks\n\n```{r}\n#| echo: true\n#| warnings: false\n#| cache: true\nlibrary(microbenchmark)\nmicrobenchmark(\n  csv = readr::read_csv(\"data/penguins/penguins_raw.csv\", \n   show_col_types = FALSE, name_repair = 'minimal'),\n  parquet = arrow::read_parquet(\"data/penguins/penguins_raw.parquet\"),\n  feather = arrow::read_feather(\"data/penguins/penguins_raw.feather\")\n) \n```\n\n## Data types\n\nThe most important types of data are:\n\n\nData type   | Description\t \n-------------   | --------------------------------------------------------------------------\nNumeric   | Approximations of the real numbers,  $\\normalsize\\mathbb{R}$ (e.g., mileage a car gets: 23.6, 20.9, etc.)\nInteger   | Whole numbers,  $\\normalsize\\mathbb{Z}$ (e.g., number of sales: 7, 0, 120, 63, etc.)\nCharacter   | Text data (strings, e.g., product names)\nFactor    | Categorical data for classification (e.g., product groups)\nLogical   | TRUE, FALSE\nDate    | Date variables (e.g., sales dates: 21-06-2015, 06-21-15, 21-Jun-2015, etc.)\n\nVariables can be converted from one type to another using the appropriate functions (e.g., ```as.numeric()```, ```as.integer()```, ```as.character()```, ```as.factor()```, ```as.logical()```, ```as.Date()```).\n\n## Let's clean up the penguins!\n\n```{r}\n#| echo: true\nstr(penguins_raw)\n```\n\n- Clean the column names\n\n```{r}\n#| echo: true\npenguins <- janitor::clean_names(penguins_raw)\nstr(penguins)\n```\n\n## Data-preprocessing: syntax\n\n- `|>` is the \"pipe\" operator\n  - It takes the result of the left side and passes it to the right side as the first argument\n  - Very useful when \"chaining\" multiple operations\n\n```{r}\n#| echo: true\npenguins |>\n  head(2)\nhead(penguins, 2)\n```\n\n## Data preprocessing: mutation\n\n- Pkg: `dplyr` provides function for `data.frame` manipulation\n- Pkg: `stringr` provides functions to manipulate strings (characters)\n- fn: `mutate` takes each row and applies a function to create a new (or overwrite a) **column**\n- fn: `select` selects columns\n\n```{r}\n#| echo: true\nlibrary(dplyr)\nlibrary(stringr)\npenguins_subset <- penguins |>\n  mutate(\n    species = str_split(species, \" \", n = 2, simplify = TRUE)[,1],\n    is_adult = str_detect(str_to_lower(stage), \"adult\"),\n    is_female = str_detect(str_to_lower(sex), \"female\"),\n    sex = str_to_lower(sex)) |>\n  select(species, island, sex, is_adult,  culmen_length_mm, culmen_depth_mm, is_female)\npenguins_subset |> head(2)\n```\n\n## Data preprocessing: multiple columns\n\n```{r}\n#| echo: true\n#penguins_subset <- \npenguins_subset <- penguins_subset |>\n  mutate(\n    across(starts_with('culmen'), \\(x) x / 10),\n    across(species:sex, as.factor),\n    across(c('is_adult', 'is_female'), as.numeric)\n    ) |>\n  mutate_if(is.numeric,\n    list(scaled = \\(x) (x - mean(x, na.rm=TRUE)) / sd(x, na.rm=TRUE))\n  ) |>\n  rename_with(\n    \\(name) str_replace(name, \"mm\", \"cm\"),\n    starts_with('culmen'))\npenguins_subset |> select(-starts_with('is')) |> str()\n```\n\n## Hint: figuring out what is going on\n\n1. Split the problem into smaller pieces\n\n```{r}\n#| echo: true\n\\(name) str_replace(name, \"mm\", \"cm\")\nstr_replace(\"ammm\", \"mm\", \"cm\")\n```\n\n2. Check help files\n\n```{r}\n#| echo: true\n?str_replace\n```\n\n3. Check `typeof()` and `class()`\n\n```{r}\n#| echo: true\ntypeof(\\(name) str_replace(name, \"mm\", \"cm\"))\n```\n\n$\\rightarrow$ `closure`s are functions\n\n3. See if you can produce some outcome on the reduced problem\n\n```{r}\n#| echo: true\nmy_function <- \\(name) str_replace(name, \"mm\", \"cm\")\nmy_function('here are some mms')\n``` \n\n## Hint: read the source code\n\n- This is only useful if a function is pure R code \n\n```{r}\n#| echo: true\nstr_replace\n```\n\n## Aside: functions and variable names\n\n- Common mistake that leads to cryptic error:\n\n```{r}\n#| error: true\n#| echo: true\nmeans <- c(4,5,6)\nmean[1]\n```\n\n::: {style=\"text-align: center\"}\n\n![](Graphics/object_closure.png)\n\n:::\n\n## Reducing rows: filtering\n\n- Create different subsets of data\n- \"Filter in\" (not out) $\\rightarrow$ `TRUE` rows remain\n\n```{r}\n#| echo: true\nadelies <- penguins_subset |>\n  filter(species == \"Adelie\")\nunique(adelies$species)\nfemale_adelies <- penguins_subset |>\n  filter(species == \"Adelie\", is_female == 1)\nfemale_adelies |> select(species, sex) |> summary()\n```\n\n## Reducing rows: summarizing\n\n- Calculate any appropriate summary for a variable\n\n```{r}\n#| echo: true\nlibrary(tidyr)\npenguins |>\n  drop_na(body_mass_g) |>\n  summarize(avg_weight = mean(body_mass_g))\n```\n\n- Calculate the summary for each group\n\n```{r}\n#| echo: true\npenguins_summary <- penguins_subset |>\n  drop_na(culmen_length_cm) |>\n  group_by(species, sex) |>\n  summarize(avg_clength = mean(culmen_length_cm))\npenguins_summary\n```\n\n## Pivot tables\n\n```{r}\n#| echo: true\npenguins_summary |>\n  pivot_wider(names_from = species, values_from = avg_clength) \n\npenguins_wide <- penguins_subset |>\n  drop_na(culmen_length_cm) |>\n  select(culmen_length_cm, species, sex) |>\n  pivot_wider(values_from = culmen_length_cm, names_from = species, values_fn = mean) |>\n  arrange(sex) |>\n  select(sex, Adelie, Chinstrap, Gentoo)\npenguins_wide\n\npivot_longer(penguins_wide, cols = -sex, names_to = \"species\", values_to = \"avg_clength\")\n```\n\n## Exercise\n\n::: {.callout-caution appearance=\"minimal\"}\n## Become the Ornithologist\n\n- Read the `penguins_raw.feather` file\n- Remove all whitespace and special characters from the column names\n- Calculate the body mass for each penguin in kg\n- Create a pivot-table with the median (`?median`) body mass for each species on each island\n  - the island names should be in the first column\n  - the species names should be the remaining columns\n- Repeat the analysis but only for female penguins\n:::\n\n::: {.callout-caution appearance=\"minimal\"}\n## Become the music manager\n\n- Read the `top10_charts.csv` in `chart_data`\n- What is the range of dates in this dataset? (Hint: `?min`, `?max`)\n- What is the top  region in terms of streams overall? (Hint: `?slice_max`)\n- Create a pivot-table of the total streams (in this dataset) within a region on a given day (1st column day, remaining columns region names, values total streams) \n:::\n\n\n## Merging data I\n\n- Often we have two separate datasets with corresponding groups of rows\n  - Streams, trackID in `top10_charts.csv` and Song metadata, trackID in `top10_meta.csv`\n  - purchaseid, customerid in `noahs-orders.csv` and productid, purchaseid in `noahs-orders_items.csv` and customerid, customer metadata in `noahs-customers.csv`\n- Combine data using `join`s\n\n```{r}\n#| echo: true\ncharts <- readr::read_csv(\"data/chart_data/top10_charts.csv\")\nsongs <- readr::read_csv(\"data/chart_data/top10_meta.csv\")\nstr(charts, give.attr=FALSE)\nstr(songs, give.attr=FALSE)\n```\n\n## Merging data II\n\n- The name of the join determines which \"ids\" are kept\n- `left_join` keeps all rows that have an id in the left dataset\n- `inner_join` only keeps rows with ids in both datasets\n\n```{r}\n#| echo: true\ndata1 <- data.frame(group = c('a', 'a', 'b','c'), value = c(1,2,3,4)) # missing group 'd'\ndata2 <- data.frame(group2 = c('a', 'c', 'd'), value2 = factor(c(\"abc\", \"def\", \"ghi\"))) # missing group 'b'\n\nleft_join(data1, data2, by = c(\"group\" = \"group2\"))\nright_join(data1, data2, by = c(\"group\" = \"group2\"))\ninner_join(data1, data2, by = c(\"group\" = \"group2\"))\n```\n\n## Special joins\n\n- `full_join` returns all rows from both datasets\n- `semi_join` returns only the columns of the left dataset and filters rows with id in the right dataset \n- `anti_join` keeps only rows that **do not** have an id in the right table\n\n```{r}\n#| echo: true\nfull_join(data1, data2, by = c(\"group\" = \"group2\"))\nsemi_join(data1, data2, by = c(\"group\" = \"group2\"))\nfilter(data1, group %in% data2$group2)\nanti_join(data1, data2, by = c(\"group\" = \"group2\"))\n```\n\n\n## Exercise \n\n::: {.callout-caution appearance=\"minimal\"}\n## BE the music manager\n\n- Who are the top 10 artists in terms of total global streams?\n- What is their most succesful song?\n- For how many songs are do we not have meta data?\n- How many songs are there in the data? (Hint: `?n_distinct`, or `?length`, `?unique`)\n- Save the combined data as `top10_all.parquet`\n:::\n\n## References {.scrollable}\n\n**Links**\n\n- [R Logo](https://www.r-project.org)\n- [Noah's Database](https://hanukkah.bluebird.sh/5783/data/)\n\n**Bibliography**\n\n::: {#refs}\n:::\n","srcMarkdownNoYaml":"\n\n# The Basics\n\n## Why R?\n\n- Well established in business and scientific computing\n- Very powerful language\n  - Express any operation in terms of\n  - Often complex functions are already implemented\n- Very good package manager and ecosystem\n  - We will use many tools created by companies, universities, and other R community members\n- Very good for reproducibility\n  - Code documents the process\n  - Should run the same on my and your machine\n  - Should be easily adaptable to changing data\n- Open source\n  - All packages can be inspected\n  - Free to install and use on any computer\n- Developed (partly) and hosted at WU ðŸ˜‹\n\n\n![](Graphics/Rlogo.png){.absolute bottom=40 right=60 width=\"400\" height=\"400\"}\n\n## What do we need?\n\n:::: {.columns}\n::: {.column}\n1. The [R interpreter](https://cran.r-project.org)\n   - The program that \"interprets\" R code and runs it\n   - Very bare-bones, essentially just a text field\n   - Does **not** store code files for reproducibility \n\n```{r}\n#| output-location: fragment\n#| echo: true\n#| fig-width: 4\n#| fig-height: 4\n#| fig-align: center\nprint(\"Hello, WU!\")\npaste0(\"One plus two is: \", 1 + 2)\nc <- data.frame(p = seq(0, 2 * pi, by = 0.001))\nc$h_x <- 16 * sin(c$p)^3\nc$h_y <- 13 * cos(c$p) - 5 * cos(2 * c$p) - 2 * cos(3 * c$p) - cos(4 * c$p)\nplot(c$h_x, c$h_y, type = \"l\", main = \"I <3 R\", frame = F, xlab = NA, ylab = NA)\n```\n\n:::\n::: {.column}\n1. An Integrated Development Environment (IDE)\n    - Makes writing and storing R code easier (more fun!)\n    - Three options compatible with this course:\n      - [R Studio Desktop (Recommended)](https://posit.co/download/rstudio-desktop/)\n        - Focused on R\n        - Easiest option\n      - [VS Code](https://code.visualstudio.com)\n        - Recommended if you (plan to) use other languages (Python, C++, Julia, etc.)\n        - Needs extension for R but works well\n      - [JupyterLab](https://jupyter.org)\n        - \"Notebooks\" for R, Python, and Julia \n        - Output generated directly under code \"cells\"\n:::\n::::\n\n## If you already know R\n\n::: {.callout-important appearance=\"minimal\"}\n## My favorite R package\n\n- Download the presentation template `my_favorite_r_package.qmd` and the bibliography file `data_literacy.bib` from Canvas\n- Select a package that was useful to you in the past\n- Prepare a short presentation about the package\n  - Include examples of how to use the package\n  - Show in which situations that is useful\n:::\n\n## Basic Workflow (R Studio)\n\n- `Ctrl + Enter` to run current line of code (any cursor position)\n\n![](Graphics/rstudio.png)\n\n## Basic Workflow (VS Code)\n\n- `Ctrl + Enter` to run current line of code (any cursor position)\n\n![](Graphics/vscode.png)\n\n## R Syntax: comments, assignment\n\n```{r}\n#| echo: true\n# This is a comment\nprint(\"Hi\") # also a comment\n## Assignment of varibale names\nx <- 1\nx\n## Missing values\nNA\n## Vectors\ny <- c(1, 2, 3, NA)\ny\n```\n\n## Functions\n\n```{r}\n#| echo: true\n## built-in\nsum(y)\nsum(y, na.rm = FALSE)\nsum(y, na.rm = TRUE)\n## User functions\na_plus_b <- function(a, b = 1) {\n    return(a + b)\n}\na_plus_b(y)\na_plus_b(y, 2)\na_plus_b(b = 2, a = y)\n## Functions provided by packages\n## Installation\n#install.packages(\"ineq\")\nineq::Gini(y)\n## or\nlibrary(ineq)\nGini(y)\n## Help \n?Gini\n```\n\n## R Syntax: indexing, logic\n\n```{r}\n#| echo: true\ny[1]\ny[-1]\ny[2:3]\ny[c(1, 3, 4)]\n\nset.seed(1)\nx <- y / 2 + rnorm(length(y))\ncbind(y, x)\ny > 2\ny > 2 & x > 0\ny > 2 | x > 0\n\ny[y > 2 | x > 0]\n```\n\n\n## R Syntax: loops, ranges\n\n```{r}\n#| echo: true\n## 'elem' is a temporary variable\nfor (elem in y) {\n    print(paste(\"Current y value is:\", elem))\n}\n## 'seq_along' returns a vector which indexes the argument\nfor (i in seq_along(y)) {\n    print(paste(\"Current y value is:\", y[i]))\n}\n## set.seed guarantees the same random numbers every time\nset.seed(1)\ntotal <- 0\nwhile (total < 1) {\n    ## runif generates random numbers between 0 and 1\n    total <- total + runif(1)\n    print(paste(\"Current total value is:\", total))\n}\n## ranges\n1:3\n10:3\nseq(3, 11, by = 2)\n```\n\n\n## R Syntax: conditional logic\n\n```{r}\n#| echo: true\nz <- -2:3\nfor (x in z) {\n  print(paste(\"x =\", x))\n    if (x > 0) {\n        print(\"x is positive\")\n    } else if (x > 2) {\n        print(\"x is greater than 2\")\n    } else if (x < 0) {\n        print(\"x is negative\")\n    } else if (x == 0) {\n        print(\"x is zero\")\n    }\n}\nz[z <= 0]\nz[z >= 0]\nz[z != 0]\nz[! z < 0]\n```\n\n\n\n## Exercise {.scrollable}\n\n::: {.callout-caution appearance=\"minimal\"}\n## Write your own function\n\n- The function should take two arguments `a` and `b`\n- First, check if `a` and `b` have the same number of elements (see `?length`)\n  - If they have a different number of elements, return `NA`\n- Iterate over the elements of `a` and `b` and check which vector's element is larger (or if they are equal)\n- If they are equal print the index of the element and \"equal\"\n- If the element in `a` is larger print the index of the elemnt and \"a larger\"\n- If the element in `b` is larger print the index of the elemnt and \"b larger\"\n:::\n\n### Example 1\n```{r}\na <- c(1, 2, 3)\nb <- c(1, 2, 3, 4)\ncat(\"a is:\", a, \"\\n\")\ncat(\"b is:\", b, \"\\n\")\ncat(\"Result:\\n\")\nNA\n```\n\n### Example 2 \n\n```{r}\na <- c(1, 2, 3)\nb <- c(0, 2, 4)\ncat(\"a is:\", a, \"\\n\")\ncat(\"b is:\", b, \"\\n\")\ncat(\"Result:\\n\")\nprint(\"1 a larger\")\nprint(\"2 equal\")\nprint(\"3 b larger\")\n```\n\n## Rectangular data frames: creation and access\n\n```{r}\n#| echo: true\ndata <- data.frame(x = -1:1, y = 3:1, z = c(\"a\", \"b\", NA))\ndata\nclass(data)\n## Variable access\ndata$x\ndata$x + data$y\n\nrow_summaries <- with(data, \n  data.frame(\n    rsum = x + y,\n    rdiff = x - y\n  ))\nrow_summaries\n```\n\n## Rectangular data frames: overview\n\n```{r}\n#| echo: true\nstr(data)\nsummary(data)\nhead(data)\n```\n\n## Rectangular data frames: Indexing\n\n```{r}\n#| echo: true\n## 2D structure of data\n## Empty argument means \"all\"#| \ndata[, c(\"x\", \"y\")]\ndata[1:3, c(\"x\", \"y\")]\ndata[1, ]\ndata[c(1, 3), c(\"x\", \"z\")]\ndata[data$x < 3,]\n```\n\n## Rectangular data: adding and removing variables\n\n```{r}\n#| echo: true\n\n## new data has to have the same number of elements\ndata$a <- 2 * data$x\ndata\ndata$b <- c(\"one\", \"two\", \"three\")\ndata\n\ndata$x <- NULL\ndata\n\ndata$a <- log(data$a)\ndata\n\ndata$b[data$b == \"two\"] <- \"TWO!\"\ndata$z[is.na(data$z)] <- \"c\"\ndata$a[is.nan(data$a)] <- 0\ndata\n```\n\n\n## Exercise\n\n::: {.callout-caution appearance=\"minimal\"}\n## Generate your own data\n\n- Look at the helpfiles of `rnorm`, `runif`, and `ifelse`\n- Create a `data.frame` with 10 rows and variables `x`, generated using `runif` and `y`, generated using `rnorm`\n- Add variable `z` which takes the value `1` if `x` is larger than `y` and `0` otherwise\n- Create a second `data.frame` that holds the rows of the original one for which `z == 1` is `TRUE`.\n- Remove column `z` from the second `data.frame`\n- What happens if you try to create a `data.frame` when `x` and `y` have a differnent number of elements?\n- What happens if you run the code you wrote for this exercise again (and again)?\n- How can you ensure that each run yields the same results?\n:::\n\n## Reading data\n\n- Please download & unzip the folder found in \"data\" in Canvas\n- We will first use the \"penguins\" folder which includes the `penguins_raw` data set in multiple file formats\n\n```{r}\n#| echo: true\n## CSV\npenguins_raw <- readr::read_csv(\"data/penguins/penguins_raw.csv\")\nhead(penguins_raw, 2)\n```\n\n. . .\n\n```{r}\n#| echo: true\npenguins_raw[1,1]\n```\n\n::: {.callout-caution appearance=\"minimal\"}\n## Fix the data\n\n- The second row (after the column names) in the `penguins_raw.csv` file is a comment\n- Look at the help file for the `readr::read_csv` function (`?readr::read_csv`)\n- How can we ignore the comment row?\n:::\n\n## Reading data: solution\n\n```{r}\n#| echo: true\n## CSV\npenguins_raw <- readr::read_csv(\n  \"data/penguins/penguins_raw.csv\",\n  comment = \"#\")\nhead(penguins_raw, 2)\npenguins_raw[1,1]\nstr(penguins_raw)\n```\n\n## Reading data: other file formats\n\n- The `readxl` package provides functions for reading Excel files\n\n```{r}\n#| echo: true\npenguins_raw <- readxl::read_excel(\"data/penguins/penguins_raw.xlsx\")\nhead(penguins_raw, 2)\n## Read a subset \npenguins_subset <- readxl::read_excel(\"data/penguins/penguins_raw.xlsx\", sheet = \"Sheet1\", range = \"B1:O345\")\nhead(penguins_subset, 2)\n```\n\n## Reading data: other file formats\n\n- The `haven` package provides functions for reading SPSS, Stata, and SAS files\n- It looks like SPSS does not support spaces in column names so this is slightly different\n\n```{r}\n#| echo: true\npenguins_raw <- haven::read_sav(\"data/penguins/penguins_raw.sav\")\nhead(penguins_raw, 2)\n```\n\n## Reading big data: the `arrow` package\n\n- The `arrow` package provides functions for reading Parquet and Feather files \n- Optimized formats used in many data science projects\n- Provides facility to read from \"object storage\" (e.g., Amazon S3)\n\n> The major benefits of object storage are the virtually unlimited scalability and the lower cost of storing large volumes of data for use cases such as data lakes, cloud native applications, analytics, log files, and machine learning (ML).\n^[https://aws.amazon.com/what-is/object-storage/]\n\n- Rule of thumb: \n  - use `parquet` for large files and long term storage\n    - optimized file size\n  - use `feather` for optimized reading and short term storage\n    - memory layout the same as in the process\n\n## Reading big data: the `arrow` package\n\n\n```{r}\n#| echo: true\npenguins_raw <- arrow::read_parquet(\"data/penguins/penguins_raw.parquet\")\npenguins_raw <- arrow::read_feather(\"data/penguins/penguins_raw.feather\")\nhead(penguins_raw, 2)\n```\n\n- Support for complex data structures\n\n```{r}\n#| echo: true\npenguin_species_island <- arrow::read_parquet('data/penguins/penguin_species_nested.parquet')\nhead(penguin_species_island, 2)\nhead(tidyr::unnest(penguin_species_island), 2)\n```\n\n## Benchmarks\n\n```{r}\n#| echo: true\n#| warnings: false\n#| cache: true\nlibrary(microbenchmark)\nmicrobenchmark(\n  csv = readr::read_csv(\"data/penguins/penguins_raw.csv\", \n   show_col_types = FALSE, name_repair = 'minimal'),\n  parquet = arrow::read_parquet(\"data/penguins/penguins_raw.parquet\"),\n  feather = arrow::read_feather(\"data/penguins/penguins_raw.feather\")\n) \n```\n\n## Data types\n\nThe most important types of data are:\n\n\nData type   | Description\t \n-------------   | --------------------------------------------------------------------------\nNumeric   | Approximations of the real numbers,  $\\normalsize\\mathbb{R}$ (e.g., mileage a car gets: 23.6, 20.9, etc.)\nInteger   | Whole numbers,  $\\normalsize\\mathbb{Z}$ (e.g., number of sales: 7, 0, 120, 63, etc.)\nCharacter   | Text data (strings, e.g., product names)\nFactor    | Categorical data for classification (e.g., product groups)\nLogical   | TRUE, FALSE\nDate    | Date variables (e.g., sales dates: 21-06-2015, 06-21-15, 21-Jun-2015, etc.)\n\nVariables can be converted from one type to another using the appropriate functions (e.g., ```as.numeric()```, ```as.integer()```, ```as.character()```, ```as.factor()```, ```as.logical()```, ```as.Date()```).\n\n## Let's clean up the penguins!\n\n```{r}\n#| echo: true\nstr(penguins_raw)\n```\n\n- Clean the column names\n\n```{r}\n#| echo: true\npenguins <- janitor::clean_names(penguins_raw)\nstr(penguins)\n```\n\n## Data-preprocessing: syntax\n\n- `|>` is the \"pipe\" operator\n  - It takes the result of the left side and passes it to the right side as the first argument\n  - Very useful when \"chaining\" multiple operations\n\n```{r}\n#| echo: true\npenguins |>\n  head(2)\nhead(penguins, 2)\n```\n\n## Data preprocessing: mutation\n\n- Pkg: `dplyr` provides function for `data.frame` manipulation\n- Pkg: `stringr` provides functions to manipulate strings (characters)\n- fn: `mutate` takes each row and applies a function to create a new (or overwrite a) **column**\n- fn: `select` selects columns\n\n```{r}\n#| echo: true\nlibrary(dplyr)\nlibrary(stringr)\npenguins_subset <- penguins |>\n  mutate(\n    species = str_split(species, \" \", n = 2, simplify = TRUE)[,1],\n    is_adult = str_detect(str_to_lower(stage), \"adult\"),\n    is_female = str_detect(str_to_lower(sex), \"female\"),\n    sex = str_to_lower(sex)) |>\n  select(species, island, sex, is_adult,  culmen_length_mm, culmen_depth_mm, is_female)\npenguins_subset |> head(2)\n```\n\n## Data preprocessing: multiple columns\n\n```{r}\n#| echo: true\n#penguins_subset <- \npenguins_subset <- penguins_subset |>\n  mutate(\n    across(starts_with('culmen'), \\(x) x / 10),\n    across(species:sex, as.factor),\n    across(c('is_adult', 'is_female'), as.numeric)\n    ) |>\n  mutate_if(is.numeric,\n    list(scaled = \\(x) (x - mean(x, na.rm=TRUE)) / sd(x, na.rm=TRUE))\n  ) |>\n  rename_with(\n    \\(name) str_replace(name, \"mm\", \"cm\"),\n    starts_with('culmen'))\npenguins_subset |> select(-starts_with('is')) |> str()\n```\n\n## Hint: figuring out what is going on\n\n1. Split the problem into smaller pieces\n\n```{r}\n#| echo: true\n\\(name) str_replace(name, \"mm\", \"cm\")\nstr_replace(\"ammm\", \"mm\", \"cm\")\n```\n\n2. Check help files\n\n```{r}\n#| echo: true\n?str_replace\n```\n\n3. Check `typeof()` and `class()`\n\n```{r}\n#| echo: true\ntypeof(\\(name) str_replace(name, \"mm\", \"cm\"))\n```\n\n$\\rightarrow$ `closure`s are functions\n\n3. See if you can produce some outcome on the reduced problem\n\n```{r}\n#| echo: true\nmy_function <- \\(name) str_replace(name, \"mm\", \"cm\")\nmy_function('here are some mms')\n``` \n\n## Hint: read the source code\n\n- This is only useful if a function is pure R code \n\n```{r}\n#| echo: true\nstr_replace\n```\n\n## Aside: functions and variable names\n\n- Common mistake that leads to cryptic error:\n\n```{r}\n#| error: true\n#| echo: true\nmeans <- c(4,5,6)\nmean[1]\n```\n\n::: {style=\"text-align: center\"}\n\n![](Graphics/object_closure.png)\n\n:::\n\n## Reducing rows: filtering\n\n- Create different subsets of data\n- \"Filter in\" (not out) $\\rightarrow$ `TRUE` rows remain\n\n```{r}\n#| echo: true\nadelies <- penguins_subset |>\n  filter(species == \"Adelie\")\nunique(adelies$species)\nfemale_adelies <- penguins_subset |>\n  filter(species == \"Adelie\", is_female == 1)\nfemale_adelies |> select(species, sex) |> summary()\n```\n\n## Reducing rows: summarizing\n\n- Calculate any appropriate summary for a variable\n\n```{r}\n#| echo: true\nlibrary(tidyr)\npenguins |>\n  drop_na(body_mass_g) |>\n  summarize(avg_weight = mean(body_mass_g))\n```\n\n- Calculate the summary for each group\n\n```{r}\n#| echo: true\npenguins_summary <- penguins_subset |>\n  drop_na(culmen_length_cm) |>\n  group_by(species, sex) |>\n  summarize(avg_clength = mean(culmen_length_cm))\npenguins_summary\n```\n\n## Pivot tables\n\n```{r}\n#| echo: true\npenguins_summary |>\n  pivot_wider(names_from = species, values_from = avg_clength) \n\npenguins_wide <- penguins_subset |>\n  drop_na(culmen_length_cm) |>\n  select(culmen_length_cm, species, sex) |>\n  pivot_wider(values_from = culmen_length_cm, names_from = species, values_fn = mean) |>\n  arrange(sex) |>\n  select(sex, Adelie, Chinstrap, Gentoo)\npenguins_wide\n\npivot_longer(penguins_wide, cols = -sex, names_to = \"species\", values_to = \"avg_clength\")\n```\n\n## Exercise\n\n::: {.callout-caution appearance=\"minimal\"}\n## Become the Ornithologist\n\n- Read the `penguins_raw.feather` file\n- Remove all whitespace and special characters from the column names\n- Calculate the body mass for each penguin in kg\n- Create a pivot-table with the median (`?median`) body mass for each species on each island\n  - the island names should be in the first column\n  - the species names should be the remaining columns\n- Repeat the analysis but only for female penguins\n:::\n\n::: {.callout-caution appearance=\"minimal\"}\n## Become the music manager\n\n- Read the `top10_charts.csv` in `chart_data`\n- What is the range of dates in this dataset? (Hint: `?min`, `?max`)\n- What is the top  region in terms of streams overall? (Hint: `?slice_max`)\n- Create a pivot-table of the total streams (in this dataset) within a region on a given day (1st column day, remaining columns region names, values total streams) \n:::\n\n\n## Merging data I\n\n- Often we have two separate datasets with corresponding groups of rows\n  - Streams, trackID in `top10_charts.csv` and Song metadata, trackID in `top10_meta.csv`\n  - purchaseid, customerid in `noahs-orders.csv` and productid, purchaseid in `noahs-orders_items.csv` and customerid, customer metadata in `noahs-customers.csv`\n- Combine data using `join`s\n\n```{r}\n#| echo: true\ncharts <- readr::read_csv(\"data/chart_data/top10_charts.csv\")\nsongs <- readr::read_csv(\"data/chart_data/top10_meta.csv\")\nstr(charts, give.attr=FALSE)\nstr(songs, give.attr=FALSE)\n```\n\n## Merging data II\n\n- The name of the join determines which \"ids\" are kept\n- `left_join` keeps all rows that have an id in the left dataset\n- `inner_join` only keeps rows with ids in both datasets\n\n```{r}\n#| echo: true\ndata1 <- data.frame(group = c('a', 'a', 'b','c'), value = c(1,2,3,4)) # missing group 'd'\ndata2 <- data.frame(group2 = c('a', 'c', 'd'), value2 = factor(c(\"abc\", \"def\", \"ghi\"))) # missing group 'b'\n\nleft_join(data1, data2, by = c(\"group\" = \"group2\"))\nright_join(data1, data2, by = c(\"group\" = \"group2\"))\ninner_join(data1, data2, by = c(\"group\" = \"group2\"))\n```\n\n## Special joins\n\n- `full_join` returns all rows from both datasets\n- `semi_join` returns only the columns of the left dataset and filters rows with id in the right dataset \n- `anti_join` keeps only rows that **do not** have an id in the right table\n\n```{r}\n#| echo: true\nfull_join(data1, data2, by = c(\"group\" = \"group2\"))\nsemi_join(data1, data2, by = c(\"group\" = \"group2\"))\nfilter(data1, group %in% data2$group2)\nanti_join(data1, data2, by = c(\"group\" = \"group2\"))\n```\n\n\n## Exercise \n\n::: {.callout-caution appearance=\"minimal\"}\n## BE the music manager\n\n- Who are the top 10 artists in terms of total global streams?\n- What is their most succesful song?\n- For how many songs are do we not have meta data?\n- How many songs are there in the data? (Hint: `?n_distinct`, or `?length`, `?unique`)\n- Save the combined data as `top10_all.parquet`\n:::\n\n## References {.scrollable}\n\n**Links**\n\n- [R Logo](https://www.r-project.org)\n- [Noah's Database](https://hanukkah.bluebird.sh/5783/data/)\n\n**Bibliography**\n\n::: {#refs}\n:::\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":true,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","embed-resources":true,"incremental":false,"output-file":"01-introduction_to_r.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.4.545","auto-stretch":true,"title":"Introduction to R","subtitle":"[Data-based Storytelling](./index.html)","title-slide-attributes":{"data-background-image":"Graphics/D2.jpg"},"author":["Daniel Winkler","Stephan Fally"],"institute":["Institute for Retailing & Data Science","Department Marketing"],"bibliography":["src/data_storytelling.bib"],"theme":["simple","src/rds_theme.scss"],"logo":"Graphics/WU_logo.png","footer":"[Data-based Storytelling](./index.html)","height":1080,"width":1920,"center-title-slide":false,"center":false,"progress":false}},"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":{"source":"repo"},"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"01-introduction_to_r_page.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.545","theme":"flatly","title":"Introduction to R","subtitle":"[Data-based Storytelling](./index.html)","title-slide-attributes":{"data-background-image":"Graphics/D2.jpg"},"author":["Daniel Winkler","Stephan Fally"],"institute":["Institute for Retailing & Data Science","Department Marketing"],"bibliography":["src/data_storytelling.bib"]},"extensions":{"book":{"multiFile":true}}},"ipynb":{"identifier":{"display-name":"Jupyter","target-format":"ipynb","base-format":"ipynb"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"png","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"ipynb","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"default-image-extension":"png","to":"ipynb","output-file":"01-introduction_to_r.ipynb"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"title":"Introduction to R","subtitle":"[Data-based Storytelling](./index.html)","title-slide-attributes":{"data-background-image":"Graphics/D2.jpg"},"author":["Daniel Winkler","Stephan Fally"],"institute":["Institute for Retailing & Data Science","Department Marketing"],"bibliography":["src/data_storytelling.bib"],"jupyter":{"kernelspec":{"display_name":"R","language":"r","name":"ir"}}}}},"projectFormats":["html"]}